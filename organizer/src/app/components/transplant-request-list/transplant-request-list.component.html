  <div *ngIf="!selected">
  <table class="table table-striped ">
    <thead>
      <tr>
        <th>ID</th>
        <th>RECIPIENT</th>
        <th>ORGAN TYPE</th>
        <th>DONOR</th>
        <th>APPROVAL STATUS</th>
        <th>CREATED AT</th>

      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let tRequest of transplantRequest" (click)="selected = tRequest">
        <td>{{tRequest.id}}</td>
        <td>{{tRequest.recipient.firstName}} {{tRequest.recipient.lastName}}</td>
        <td>{{tRequest.organType.organ}}</td>
        <td>{{tRequest.donor.firstName}} {{tRequest.donor.lastName}}</td>
        <td>{{tRequest.approvalStatus}}</td>
        <td>{{tRequest.createdAt}}</td>
      </tr>
    </tbody>
  </table>
</div>




<div *ngIf="selected">

        <div *ngIf="selected"  style="text-align: center;" >
          <h1>{{selected.recipient.firstName}} {{selected.recipient.lastName}}</h1>

          <table class="table table-striped ">
            <thead>
              <tr>
                <th>ID</th>
                <th>RECIPIENT</th>
                <th>ORGAN TYPE</th>
                <th>DONOR</th>
                <th>APPROVAL STATUS</th>
                <th>CREATED AT</th>

              </tr>
            </thead>
            <tbody>

              <tr>
                <td>{{selected.id}}</td>
                <td>{{selected.recipient.firstName}} {{selected.recipient.lastName}}</td>
                <td>{{selected.organType.organ}}</td>
                <td>{{selected.donor.firstName}} {{selected.donor.lastName}}</td>
                <td>{{selected.approvalStatus}}</td>
                <td>{{selected.createdAt}}</td>
              </tr>
            </tbody>
          </table>
              </div>

              <button ngif="selected" (click)="loadViableDonors(selected)">Find Viable Donors</button>

              <table class="table table-striped " *ngIf="selected.donor == null">
                <thead>
                </thead>
                <tr><th>Patient ID</th><th>Name</th><th>BirthDate</th><th>Sex</th><th>Weight</th><th>Blood Type</th><th>Zip Code</th></tr>
                <tbody>

                  <tr *ngFor="let p of viableDonors">
                    <td>{{p.id}}</td>
                    <td>{{p.firstName}} {{p.lastName}}</td>
                    <td>{{p.birthDate}}</td>
                    <td>{{p.sex}}</td>
                    <td>{{p.weightKg}}</td>
                    <td>{{p.bloodType.bloodGroup}} {{p.bloodType.rh ? "+" :  "-"}}</td>
                    <td>{{p.address.zip}}</td>
                    <!-- <td><button ngif="selected" (click)="addDonor(p, selected)">Add this patient as a donor</button></td> -->
                    <td>  <input (change)="updateTransplantRequest(selected)" type="checkbox" name="donor" [(ngModel)]="selected.donor"></td>
                  </tr>
                </tbody>

              </table>

</div>



